import{_,a as u,T,c as n,b as d,w as c,v as l,d as h,F as f,r as C,o as e,e as L,t as p,f as g,p as E,g as y}from"./index-9cf565e8.js";const v={name:"LaskList",data(){return{currentInputTaskContent:"",errorContent:"",taskList:[],TransferListElement:{taskContent:"",finish:""},MakerListElement:{taskContent:""}}},methods:{addTask:function(t){u.post("https://loremipsum-api.onrender.com/taskList",t).then(i=>{i.status===200&&this.getTaskList()})},updateTask:function(t){u.put(`https://loremipsum-api.onrender.com/taskList/${t.id}`,t).then(i=>{i.status===200&&this.getTaskList()})},deleteTask:function(t){u.delete(`https://loremipsum-api.onrender.com/taskList/${t}`).then(i=>{i.status===200&&this.getTaskList()})},getTaskList:function(){u.get("https://loremipsum-api.onrender.com/taskList").then(t=>{if(t.status===200){let i=t.data;this.taskList=i.map(o=>({...o,isEditing:!1}))}})},addTaskToList:function(){this.MakerListElement.taskContent=this.MakerListElement.taskContent.trim(),this.MakerListElement.taskContent!==""?(this.errorContent="",this.addTask(this.MakerListElement),this.MakerListElement.taskContent=""):this.errorContent="tasklist.error"},changeFinishStatus:function(t){this.taskList=this.taskList.map(o=>o.id!==t?{...o}:{...o,finish:!o.finish});const i=this.taskList.filter(o=>o.id===t);this.updateTask(Object.assign(this.TransferListElement,i[0]))},stopTaskEditing:function(t){if(t.isEditing=!1,t.taskContent===""||t.taskContent===this.currentInputTaskContent)t.taskContent=this.currentInputTaskContent;else{const i=this.taskList.filter(o=>o.id===t.id);this.updateTask(Object.assign(this.TransferListElement,i[0]))}},startTaskEditing:function(t){this.currentInputTaskContent=t.taskContent,t.isEditing=!0,this.$nextTick(()=>{const i=document.querySelector('input[name="InputTask"]');i&&i.focus()})}},mounted(){this.getTaskList()},setup(){return{Tr:T}}},m=t=>(E("data-v-f33839d2"),t=t(),y(),t),M={class:"col-6 col-s-9",id:"content"},b={id:"root"},I=["innerHTML"],x={class:"form"},S=["placeholder"],V=m(()=>d("i",{class:"fas fa-plus"},null,-1)),B=[V],U=["innerHTML"],w=["id"],F=["onUpdate:modelValue","onClick"],H={key:1},$={key:0},K={key:1},j=["onUpdate:modelValue","onBlur","onKeyup"],D={class:"buttons"},N=["onClick"],O=["onClick"],q=["onClick"],A=["onClick"];function P(t,i,o,z,k,r){return e(),n("article",M,[d("div",b,[d("h1",{innerHTML:t.$t("tasklist.tasklist")},null,8,I),d("div",x,[c(d("input",{type:"text",placeholder:t.$t("tasklist.placeholder"),"onUpdate:modelValue":i[0]||(i[0]=s=>k.MakerListElement.taskContent=s)},null,8,S),[[l,k.MakerListElement.taskContent]]),d("button",{onClick:i[1]||(i[1]=(...s)=>r.addTaskToList&&r.addTaskToList(...s))},B)]),k.errorContent?(e(),n("div",{key:0,class:"error",innerHTML:t.$t("tasklist.error")},null,8,U)):h("",!0),d("ul",null,[(e(!0),n(f,null,C(k.taskList,s=>(e(),n("li",{id:s.id},[s.isEditing?h("",!0):c((e(),n("input",{key:0,type:"checkbox","onUpdate:modelValue":a=>s.finish=a,onClick:a=>r.changeFinishStatus(s.id)},null,8,F)),[[L,s.finish]]),s.isEditing?c((e(),n("input",{key:2,name:"InputTask",type:"text","onUpdate:modelValue":a=>s.taskContent=a,onBlur:a=>r.stopTaskEditing(s),onKeyup:g(a=>r.stopTaskEditing(s),["enter"])},null,40,j)),[[l,s.taskContent]]):(e(),n("span",H,[s.finish?(e(),n("p",$,[d("s",null,p(s.taskContent),1)])):(e(),n("p",K,p(s.taskContent),1))])),d("div",D,[s.isEditing?(e(),n("button",{key:1,onClick:a=>r.stopTaskEditing(s)},"✔",8,O)):(e(),n("button",{key:0,onClick:a=>r.startTaskEditing(s)},"✎",8,N)),s.isEditing?(e(),n("button",{key:3,onClick:a=>r.stopTaskEditing(s)},"✖",8,A)):(e(),n("button",{key:2,onClick:a=>r.deleteTask(s.id)},"✖",8,q))])],8,w))),256))])])])}const J=_(v,[["render",P],["__scopeId","data-v-f33839d2"]]);export{J as default};
